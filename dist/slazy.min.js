((e,t)=>{"object"==typeof module&&module.exports?module.exports=t():e.Slazy=t()})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){let r={pollDelay:1e3,imageInterval:null,urlInterval:null,prefetchMargin:0},o="slazy-image-loaded",n="slazy-placeholder-active",l="slazy-load-failed",i="placeholder-active",a="placeholder-original-bgcolor",u="retry-count",s={};function e(){null!=r.imageInterval&&"function"==typeof clearInterval&&clearInterval(r.imageInterval),r.imageInterval=null}function t(){null!=r.urlInterval&&"function"==typeof clearInterval&&clearInterval(r.urlInterval),r.urlInterval=null}function c(){null==r.imageInterval&&"function"==typeof setInterval&&(r.imageInterval=setInterval(s.loadLazyImage,r.pollDelay))}function f(){null==r.urlInterval&&"function"==typeof setInterval&&(r.urlInterval=setInterval(s.loadLazyUrl,r.pollDelay))}function d(){c(),f()}function g(){e(),t()}function y(){g(),d()}function h(e){r.prefetchMargin=null!=(e=e)&&(e=Number(e),Number.isFinite(e))?Math.max(0,e):0}function p(e){return e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function m(e,t){if(e){if("function"==typeof e.getAttribute){var n=e.getAttribute("data-"+t);if(null!=n)return n}if(e.dataset){n=p(t);if(Object.prototype.hasOwnProperty.call(e.dataset,n))return e.dataset[n]}}}function b(e,t,n){e&&("function"==typeof e.setAttribute?e.setAttribute("data-"+t,n):e.dataset&&(t=p(t),e.dataset[t]=n))}function v(e,t){e&&("function"==typeof e.removeAttribute&&e.removeAttribute("data-"+t),e.dataset)&&(t=p(t),Object.prototype.hasOwnProperty.call(e.dataset,t))&&delete e.dataset[t]}function I(e,t){return e&&e.classList&&"function"==typeof e.classList.contains?e.classList.contains(t):e&&"string"==typeof e.className&&-1!==e.className.split(/\s+/).indexOf(t)}function w(e,t){var n;e&&e.classList&&"function"==typeof e.classList.add?e.classList.add(t):e&&-1===(n=("string"==typeof e.className?e.className:"").split(/\s+/).filter(Boolean)).indexOf(t)&&(n.push(t),e.className=n.join(" "))}function z(e,t){var n;e&&e.classList&&"function"==typeof e.classList.remove?e.classList.remove(t):e&&"string"==typeof e.className&&(n=e.className.split(/\s+/).filter(Boolean).filter(e=>e!==t),e.className=n.join(" "))}function N(e){var t;return e?(t=((t=e)&&(t=Number(m(t,u)),Number.isFinite(t))&&0<t?t:0)+1,b(e,u,String(t)),t):0}function M(e){e&&(v(e,u),z(e,l),v(e,"queue"))}function A(e){var t;e&&I(e,"slazy-placeholder")&&"true"!==m(e,i)&&(e.style&&(t="string"==typeof e.style.backgroundColor?e.style.backgroundColor:"",!m(e,a)&&t&&b(e,a,t),t||(e.style.backgroundColor="#e2e8f0")),b(e,i,"true"),w(e,n))}function q(e){var t;e&&"true"===m(e,i)&&(e.style&&((t=m(e,a))?e.style.backgroundColor=t:"function"==typeof e.style.removeProperty?e.style.removeProperty("background-color"):e.style.backgroundColor=""),v(e,a),v(e,i),z(e,n))}function L(e){return e&&"object"==typeof e&&1===e.nodeType}function C(e,t,n,r){if(!e||t<=0)return e;let l=Math.round(t),a=Math.round(n),u="zero"===r,s="auto"===r&&0<a,i=e;return i=(i=i.replace(/(\b)(\d+)x(\d+)(\b|(?=_))/i,(e,t,n,r,i)=>{let o=r;return u?o="0":s&&(o=String(a)),""+t+l+"x"+o+i})).replace(/([?&])(w|width)=\d+/gi,(e,t,n)=>""+t+n+"="+l),u?i=i.replace(/([?&])(h|height)=\d+/gi,(e,t,n)=>""+t+n+"=0"):s&&(i=i.replace(/([?&])(h|height)=\d+/gi,(e,t,n)=>""+t+n+"="+a)),i}function k(e){return!e||I(e,"slazy-no-resize")?"none":I(e,"slazy-resize-zero")?"zero":I(e,"slazy-resize")?"auto":"none"}function B(t,e){var n,r;return!t||e<=0?0:(n=(r=e=>"function"==typeof t.getAttribute&&(e=Number(t.getAttribute(e)),Number.isFinite(e))?e:0)("width"),r=r("height"),0<n&&0<r?Math.round(r/n*e):(r=Number(t.naturalWidth||t.width||0),n=Number(t.naturalHeight||t.height||0),0<r&&0<n?Math.round(n/r*e):(n=Number(m(t,"slazy-width")),r=Number(m(t,"slazy-height")),0<n&&0<r?Math.round(r/n*e):0<r?Math.round(r):(n="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():null)&&0<n.width&&0<n.height?Math.round(n.height/n.width*e):(r=parseFloat(S(t,"height")),!Number.isNaN(r)&&0<r?Math.round(r):0))))}function S(e,t){if(e){if(e.style&&null!=e.style[t]&&""!==e.style[t])return e.style[t];if(L(e)&&"undefined"!=typeof window&&"function"==typeof window.getComputedStyle){e=window.getComputedStyle(e);if(e){e=e.getPropertyValue(t);if(null!=e&&""!==e)return e}}}return""}function _(e){if(!e)return 0;if(L(e)&&"function"==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(t&&"number"==typeof t.width&&0<t.width)return t.width}return L(e)&&"number"==typeof e.offsetWidth&&0<e.offsetWidth?e.offsetWidth:(t=parseFloat(S(e,"width")),!Number.isNaN(t)&&0<t?t:0)}function P(e){if(e&&L(e)&&e.parentElement){e=Math.round(_(e.parentElement));if(0<e)return e}return 0}function x(e){return"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&(e=document.querySelectorAll(e),Boolean(e&&0<e.length))}function $(e,t){"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&(e=document.querySelectorAll(e))&&0!==e.length&&e.forEach(function(e){t(e)})}return s.checkVisible=function(e){var t=e=>null!=e&&("true"===(e=String(e).toLowerCase())||"1"===e),n=(e,t)=>e&&"function"==typeof e.closest&&(e=e.closest(t))&&"function"==typeof e.getAttribute?e.getAttribute("aria-hidden"):null;if(Boolean(e&&e.classList&&"function"==typeof e.classList.contains&&e.classList.contains("carousel_item_image"))){if(t(n(e,".carousel_item")))return!1;if(t(n(e,"div.splide__slide")))return!1}return!e||"function"!=typeof e.getBoundingClientRect||(t=e.getBoundingClientRect(),n=Math.max(0,Number(r.prefetchMargin)||0),0===(e=Math.max(document.documentElement&&document.documentElement.clientHeight||0,"undefined"!=typeof window&&window.innerHeight||0))?t.bottom>=-n:t.bottom>=-n&&t.top<e+n)},s.loadLazyImage=function(){x(`img[data-slazy-src]:not(.${o}):not([data-queue="failed"])`)?$(`img[data-slazy-src]:not(.${o}):not([data-queue="failed"]):not(.carousel_item_image)`,function(t){if(t){A(t);let r=S(t,"width").includes("%")?0:Math.round(_(t));var i=P(t)||0;if(0!==(r=0===r&&0<i?i:r)){let e=m(t,"slazy-src");if(null!=e){i=k(t);if("none"!==i&&(n="zero"===i?0:B(t,r),e=C(e,r,n,i)),t.src===e)q(t);else{var n=m(t,"queue");if("loading"!==n&&"failed"!==n&&s.checkVisible(t)){z(t,l),b(t,"queue","loading");let n=t;i=new Image;i.onload=function(){n.src=this.src;var e=Number(this.width||this.naturalWidth||r||0),t=Number(this.height||this.naturalHeight||0);0<e&&("function"==typeof n.setAttribute?n.setAttribute("width",e):n.width=e),0<t&&("function"==typeof n.setAttribute?n.setAttribute("height",t):n.height=t),q(n),w(n,o),M(n)},i.onerror=function(){3<=N(n)?(b(n,"queue","failed"),w(n,l)):v(n,"queue")},i.src=e}}}}}}):e()},s.loadLazyUrl=function(){x(`*[data-slazy-url]:not(.${o}):not([data-queue="failed"])`)?$(`*[data-slazy-url]:not(.${o}):not([data-queue="failed"]):not(.carousel_item_image)`,function(n){if(n){A(n);let t=S(n,"width").includes("%")?0:Math.round(_(n));var i=P(n)||0;if(0!==(t=0===t&&0<i?i:t)){let e=m(n,"slazy-url");if(null!=e){var r,i=k(n),i=("none"!==i&&(r="zero"===i?0:B(n,t),e=C(e,t,r,i)),"string"==typeof(r=S(r=n,"background-image"))?r:"");if(i.replace(/^url\(("|')?(.*?)\1\)$/i,"$2")===e||i===`url(${e})`)q(n);else{i=m(n,"queue");if("loading"!==i&&"failed"!==i&&s.checkVisible(n)){z(n,l),b(n,"queue","loading");let r=n;i=new Image;i.onload=function(){var e,t,n;e=r,t=`url(${this.src})`,e&&(e.style?e.style.backgroundImage=t:"function"==typeof e.setAttribute&&((n=(e.getAttribute("style")||"").split(";").map(e=>e.trim()).filter(Boolean).filter(e=>!e.startsWith("background-image"))).push("background-image: "+t),e.setAttribute("style",n.join("; ")))),q(r),w(r,o),M(r)},i.onerror=function(){3<=N(r)?(b(r,"queue","failed"),w(r,l)):v(r,"queue")},i.src=e}}}}}}):t()},s.startPolling=d,s.stopPolling=g,s.restartPolling=y,s.start=d,s.stop=g,s.restart=y,s.setPrefetchMargin=function(e){h(e)},s.getPrefetchMargin=function(){return r.prefetchMargin},s._internals={get imageInterval(){return r.imageInterval},set imageInterval(e){r.imageInterval=e},get urlInterval(){return r.urlInterval},set urlInterval(e){r.urlInterval=e},ensureImageTimer:c,ensureUrlTimer:f,stopImageTimer:e,stopUrlTimer:t,get prefetchMargin(){return r.prefetchMargin},set prefetchMargin(e){h(e)}},"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&"undefined"!=typeof window&&d(),s});