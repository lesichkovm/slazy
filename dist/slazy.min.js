((t,e)=>{"object"==typeof module&&module.exports?module.exports=e():t.Slazy=e()})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){let e={pollDelay:1e3,imageInterval:null,urlInterval:null},a={};function t(){null!=e.imageInterval&&"function"==typeof clearInterval&&clearInterval(e.imageInterval),e.imageInterval=null}function n(){null!=e.urlInterval&&"function"==typeof clearInterval&&clearInterval(e.urlInterval),e.urlInterval=null}function i(){null==e.imageInterval&&"function"==typeof setInterval&&(e.imageInterval=setInterval(a.loadLazyImage,e.pollDelay))}function l(){null==e.urlInterval&&"function"==typeof setInterval&&(e.urlInterval=setInterval(a.loadLazyUrl,e.pollDelay))}function r(){i(),l()}function o(){t(),n()}function u(){o(),r()}function s(t){return t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function c(t,e){if(t){if("function"==typeof t.getAttribute){var n=t.getAttribute("data-"+e);if(null!=n)return n}if(t.dataset){n=s(e);if(Object.prototype.hasOwnProperty.call(t.dataset,n))return t.dataset[n]}}}function f(t,e,n){t&&("function"==typeof t.setAttribute?t.setAttribute("data-"+e,n):t.dataset&&(e=s(e),t.dataset[e]=n))}function d(t,e){return t&&t.classList&&"function"==typeof t.classList.contains?t.classList.contains(e):!(!t||"string"!=typeof t.className)&&-1!==t.className.split(/\s+/).indexOf(e)}function g(t,e){var n;t&&t.classList&&"function"==typeof t.classList.add?t.classList.add(e):t&&-1===(n=("string"==typeof t.className?t.className:"").split(/\s+/).filter(Boolean)).indexOf(e)&&(n.push(e),t.className=n.join(" "))}function m(t){return t&&"object"==typeof t&&1===t.nodeType}function p(t,i){if(!t||i<=0)return t;let e=t,n=!1;return/\d+x\d+/i.test(e)&&(e=e.replace(/\d+x\d+/i,i+"x0"),n=!0),/[?&](w|width)=\d+/i.test(e)&&(e=e.replace(/([?&])(w|width)=\d+/gi,(t,e,n)=>""+e+n+"="+i),n=!0),e=n&&/[?&](h|height)=\d+/i.test(e)?e.replace(/([?&])(h|height)=\d+/gi,(t,e,n)=>""+e+n+"=0"):e}function y(t,e){if(t){if(t.style&&null!=t.style[e]&&""!==t.style[e])return t.style[e];if(m(t)&&"undefined"!=typeof window&&"function"==typeof window.getComputedStyle){t=window.getComputedStyle(t);if(t){t=t.getPropertyValue(e);if(null!=t&&""!==t)return t}}}return""}function h(t){if(!t)return 0;if(m(t)&&"function"==typeof t.getBoundingClientRect){var e=t.getBoundingClientRect();if(e&&"number"==typeof e.width&&0<e.width)return e.width}return m(t)&&"number"==typeof t.offsetWidth&&0<t.offsetWidth?t.offsetWidth:(e=parseFloat(y(t,"width")),!Number.isNaN(e)&&0<e?e:0)}function v(t){if(t&&m(t)&&t.parentElement){t=Math.round(h(t.parentElement));if(0<t)return t}return 0}function I(t){return"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&(t=document.querySelectorAll(t),Boolean(t&&0<t.length))}function b(t,e){"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&(t=document.querySelectorAll(t))&&0!==t.length&&t.forEach(function(t){e(t)})}return a.checkVisible=function(t){var e=t=>null!=t&&("true"===(t=String(t).toLowerCase())||"1"===t),n=(t,e)=>t&&"function"==typeof t.closest&&(t=t.closest(e))&&"function"==typeof t.getAttribute?t.getAttribute("aria-hidden"):null;if(Boolean(t&&t.classList&&"function"==typeof t.classList.contains&&t.classList.contains("carousel_item_image"))){if(e(n(t,".carousel_item")))return!1;if(e(n(t,"div.splide__slide")))return!1}return!t||"function"!=typeof t.getBoundingClientRect||(e=t.getBoundingClientRect(),0===(n=Math.max(document.documentElement&&document.documentElement.clientHeight||0,"undefined"!=typeof window&&window.innerHeight||0))?0<=e.bottom:0<=e.bottom&&e.top<n)},a.loadLazyImage=function(){I("img[data-slazy-src]:not(.image-loaded)")?b("img[data-slazy-src]:not(.image-loaded):not(.carousel_item_image)",function(e){if(e){let i=y(e,"width").includes("%")?0:Math.round(h(e));var l=v(e)||0;if(0!==(i=0===i&&0<l?l:i)){let t=c(e,"slazy-src");if(null!=t){l=d(e,"no-resize");if(!1===l&&(t=p(t,i)),e.src!==t&&null==c(e,"queue")&&a.checkVisible(e)){f(e,"queue","loading");let n=e;l=new Image;l.onload=function(){n.src=this.src,f(n,"queue","loaded");var t=Number(this.width||this.naturalWidth||i||0),e=Number(this.height||this.naturalHeight||0);"function"==typeof n.setAttribute?(n.setAttribute("width",t),n.setAttribute("height",e)):(n.width=t,n.height=e)},l.src=t,g(e,"image-loaded")}}}}}):t()},a.loadLazyUrl=function(){I("*[data-slazy-url]:not(.image-loaded)")?b("*[data-slazy-url]:not(.image-loaded):not(.carousel_item_image)",function(n){if(n){let e=y(n,"width").includes("%")?0:Math.round(h(n));var i,l,r=v(n)||0;if(0!==(e=0===e&&0<r?r:e)){let t=c(n,"slazy-url");null!=t&&(!1===d(n,"no-resize")&&(t=p(t,e)),(r="string"==typeof(r=y(r=n,"background-image"))?r:"").replace(/^url\(("|')?(.*?)\1\)$/i,"$2")!==t)&&r!==`url(${t})`&&null==c(n,"queue")&&a.checkVisible(n)&&(f(n,"queue","loaded"),r=n,i=`url(${t})`,r&&(r.style?r.style.backgroundImage=i:"function"==typeof r.setAttribute&&((l=(r.getAttribute("style")||"").split(";").map(t=>t.trim()).filter(Boolean).filter(t=>!t.startsWith("background-image"))).push("background-image: "+i),r.setAttribute("style",l.join("; ")))),g(n,"image-loaded"))}}}):n()},a.startPolling=r,a.stopPolling=o,a.restartPolling=u,a.start=r,a.stop=o,a.restart=u,a._internals={get imageInterval(){return e.imageInterval},set imageInterval(t){e.imageInterval=t},get urlInterval(){return e.urlInterval},set urlInterval(t){e.urlInterval=t},ensureImageTimer:i,ensureUrlTimer:l,stopImageTimer:t,stopUrlTimer:n},r(),a});