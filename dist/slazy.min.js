((t,e)=>{"object"==typeof module&&module.exports?module.exports=e():t.Slazy=e()})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){let i={pollDelay:1e3,imageInterval:null,urlInterval:null,prefetchMargin:0},l="slazy-image-loaded",a="slazy-no-resize",o={};function t(){null!=i.imageInterval&&"function"==typeof clearInterval&&clearInterval(i.imageInterval),i.imageInterval=null}function e(){null!=i.urlInterval&&"function"==typeof clearInterval&&clearInterval(i.urlInterval),i.urlInterval=null}function n(){null==i.imageInterval&&"function"==typeof setInterval&&(i.imageInterval=setInterval(o.loadLazyImage,i.pollDelay))}function r(){null==i.urlInterval&&"function"==typeof setInterval&&(i.urlInterval=setInterval(o.loadLazyUrl,i.pollDelay))}function u(){n(),r()}function s(){t(),e()}function f(){s(),u()}function c(t){i.prefetchMargin=null!=(t=t)&&(t=Number(t),Number.isFinite(t))?Math.max(0,t):0}function d(t){return t.replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function g(t,e){if(t){if("function"==typeof t.getAttribute){var n=t.getAttribute("data-"+e);if(null!=n)return n}if(t.dataset){n=d(e);if(Object.prototype.hasOwnProperty.call(t.dataset,n))return t.dataset[n]}}}function p(t,e,n){t&&("function"==typeof t.setAttribute?t.setAttribute("data-"+e,n):t.dataset&&(e=d(e),t.dataset[e]=n))}function m(t,e){t&&("function"==typeof t.removeAttribute&&t.removeAttribute("data-"+e),t.dataset)&&(e=d(e),Object.prototype.hasOwnProperty.call(t.dataset,e))&&delete t.dataset[e]}function y(t,e){return t&&t.classList&&"function"==typeof t.classList.contains?t.classList.contains(e):!(!t||"string"!=typeof t.className)&&-1!==t.className.split(/\s+/).indexOf(e)}function h(t,e){var n;t&&t.classList&&"function"==typeof t.classList.add?t.classList.add(e):t&&-1===(n=("string"==typeof t.className?t.className:"").split(/\s+/).filter(Boolean)).indexOf(e)&&(n.push(e),t.className=n.join(" "))}function v(t){return t&&"object"==typeof t&&1===t.nodeType}function b(t,i){if(!t||i<=0)return t;let e=t,n=!1;return/\d+x\d+/i.test(e)&&(e=e.replace(/\d+x\d+/i,i+"x0"),n=!0),/[?&](w|width)=\d+/i.test(e)&&(e=e.replace(/([?&])(w|width)=\d+/gi,(t,e,n)=>""+e+n+"="+i),n=!0),e=n&&/[?&](h|height)=\d+/i.test(e)?e.replace(/([?&])(h|height)=\d+/gi,(t,e,n)=>""+e+n+"=0"):e}function I(t,e){if(t){if(t.style&&null!=t.style[e]&&""!==t.style[e])return t.style[e];if(v(t)&&"undefined"!=typeof window&&"function"==typeof window.getComputedStyle){t=window.getComputedStyle(t);if(t){t=t.getPropertyValue(e);if(null!=t&&""!==t)return t}}}return""}function w(t){if(!t)return 0;if(v(t)&&"function"==typeof t.getBoundingClientRect){var e=t.getBoundingClientRect();if(e&&"number"==typeof e.width&&0<e.width)return e.width}return v(t)&&"number"==typeof t.offsetWidth&&0<t.offsetWidth?t.offsetWidth:(e=parseFloat(I(t,"width")),!Number.isNaN(e)&&0<e?e:0)}function A(t){if(t&&v(t)&&t.parentElement){t=Math.round(w(t.parentElement));if(0<t)return t}return 0}function z(t){return"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&(t=document.querySelectorAll(t),Boolean(t&&0<t.length))}function M(t,e){"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&(t=document.querySelectorAll(t))&&0!==t.length&&t.forEach(function(t){e(t)})}return o.checkVisible=function(t){var e=t=>null!=t&&("true"===(t=String(t).toLowerCase())||"1"===t),n=(t,e)=>t&&"function"==typeof t.closest&&(t=t.closest(e))&&"function"==typeof t.getAttribute?t.getAttribute("aria-hidden"):null;if(Boolean(t&&t.classList&&"function"==typeof t.classList.contains&&t.classList.contains("carousel_item_image"))){if(e(n(t,".carousel_item")))return!1;if(e(n(t,"div.splide__slide")))return!1}return!t||"function"!=typeof t.getBoundingClientRect||(e=t.getBoundingClientRect(),n=Math.max(0,Number(i.prefetchMargin)||0),0===(t=Math.max(document.documentElement&&document.documentElement.clientHeight||0,"undefined"!=typeof window&&window.innerHeight||0))?e.bottom>=-n:e.bottom>=-n&&e.top<t+n)},o.loadLazyImage=function(){z(`img[data-slazy-src]:not(.${l})`)?M(`img[data-slazy-src]:not(.${l}):not(.carousel_item_image)`,function(e){if(e){let i=I(e,"width").includes("%")?0:Math.round(w(e));var r=A(e)||0;if(0!==(i=0===i&&0<r?r:i)){let t=g(e,"slazy-src");if(null!=t){r=y(e,a);if(!1===r&&(t=b(t,i)),e.src!==t){r=g(e,"queue");if("loading"!==r&&o.checkVisible(e)){p(e,"queue","loading");let n=e;r=new Image;r.onload=function(){n.src=this.src;var t=Number(this.width||this.naturalWidth||i||0),e=Number(this.height||this.naturalHeight||0);"function"==typeof n.setAttribute?(n.setAttribute("width",t),n.setAttribute("height",e)):(n.width=t,n.height=e),h(n,l),m(n,"queue")},r.onerror=function(){m(n,"queue")},r.src=t}}}}}}):t()},o.loadLazyUrl=function(){z(`*[data-slazy-url]:not(.${l})`)?M(`*[data-slazy-url]:not(.${l}):not(.carousel_item_image)`,function(n){if(n){let e=I(n,"width").includes("%")?0:Math.round(w(n));var r=A(n)||0;if(0!==(e=0===e&&0<r?r:e)){let t=g(n,"slazy-url");if(null!=t){!1===y(n,a)&&(t=b(t,e));var r="string"==typeof(r=I(r=n,"background-image"))?r:"",i=r.replace(/^url\(("|')?(.*?)\1\)$/i,"$2");if(i!==t&&r!==`url(${t})`){i=g(n,"queue");if("loading"!==i&&o.checkVisible(n)){p(n,"queue","loading");let i=n;r=new Image;r.onload=function(){var t,e,n;t=i,e=`url(${this.src})`,t&&(t.style?t.style.backgroundImage=e:"function"==typeof t.setAttribute&&((n=(t.getAttribute("style")||"").split(";").map(t=>t.trim()).filter(Boolean).filter(t=>!t.startsWith("background-image"))).push("background-image: "+e),t.setAttribute("style",n.join("; ")))),h(i,l),m(i,"queue")},r.onerror=function(){m(i,"queue")},r.src=t}}}}}}):e()},o.startPolling=u,o.stopPolling=s,o.restartPolling=f,o.start=u,o.stop=s,o.restart=f,o.setPrefetchMargin=function(t){c(t)},o.getPrefetchMargin=function(){return i.prefetchMargin},o._internals={get imageInterval(){return i.imageInterval},set imageInterval(t){i.imageInterval=t},get urlInterval(){return i.urlInterval},set urlInterval(t){i.urlInterval=t},ensureImageTimer:n,ensureUrlTimer:r,stopImageTimer:t,stopUrlTimer:e,get prefetchMargin(){return i.prefetchMargin},set prefetchMargin(t){c(t)}},"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&"undefined"!=typeof window&&u(),o});